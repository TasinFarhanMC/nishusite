---
import Layout from "../../layouts/Layout.astro";
import { panelMap } from "../../libs/panels";

// 1. Generate static paths from panelMap keys
export async function getStaticPaths() {
  return Object.entries(panelMap).map(([key, panel]) => ({
    params: { slug: key }, // slug will be the hash
    props: { panel },
  }));
}

// 2. Grab params + props
const { slug } = Astro.params;
const { panel } = Astro.props;
---

<Layout>
  <h1>{panel.name}</h1>
  <p>Price: ${panel.price}</p>
  <p>Product ID: {slug}</p>
</Layout>
